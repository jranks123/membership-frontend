@import views.support.PageInfo
@import com.gu.membership.PaidMembershipPlans
@import com.gu.memsub.Current
@import com.gu.i18n.USD
@import com.gu.i18n.CountryGroup.US
@import configuration.Videos
@import views.support.Asset
@import views.support.Pricing._
@import com.gu.salesforce.Tier.{Supporter, supporter}

@import com.gu.membership.MembershipCatalog
@(catalog: MembershipCatalog,
  supporterPlans: PaidMembershipPlans[Current, Supporter],
  pageInfo: PageInfo,
  pageImages: Seq[model.ResponsiveImageGroup])(implicit token: play.filters.csrf.CSRF.Token)

@main("Supporters", pageInfo=pageInfo) {

    @* ===== About Supporters ===== *@
    @for(img <- pageImages.find(_.name.contains("intro"))) {
        <div class="page-slice l-constrained">
            @fragments.promos.promoPrimary(title="Become a Guardian Supporter", img=img, showImageCaption=true, isLead=true, toneClass=Some("tone-trans-white")) {
                <div class="text-feature">
                    <p>
                        Supporters keep our journalism fearless, open and free from&nbsp;interference.
                        <span class="text-pale">Plus, join today and $1 will be donated to the Guardian Charity Appeal.</span>
                    </p>
                </div>
                @fragments.tier.packagePromoUSASupporter(supporterPlans.unsafePriceByCurrency(USD), isReversed=false)
            }
        </div>
    }

    @* ===== Support open, independent journalism ===== *@
    <div id="supporter-video" class="page-slice page-slice--slim l-constrained">
        @fragments.promos.promoVideoSecondary(
            "Support open, independent journalism",
            video=Videos.supporters,
            toneClass=Some("tone-trans-brand-supporting-2")){
            <div class="text-feature">
                <p>Watch Guardian journalists explain why the Guardianâ€™s unique approach to journalism is worth defending.</p>
            </div>
        }
    </div>

    @* ===== Ensuring our independence ===== *@
    @for(img <- pageImages.find(_.name.contains("fearless"))) {
        <div class="page-slice l-constrained">
            @fragments.promos.promoPrimary(title="Fearless, progressive and free from interference", img=img, showImageCaption=true, toneClass=Some("tone-trans-white")) {
                <div class="text-feature">
                    <p>The Guardian publishes the stories that others keep hidden.</p>
                    <p>We have become the most read, serious English-language newspaper in the world, visited by 120 million unique browsers each month. Our journalism is for everyone. The Guardian is open, without a paywall, and we remain true to our 200-year old progressive values.</p>
                    <p>Become a Supporter to ensure the whole picture is available to everyone.</p>
                </div>
                <div class="action-group">
                    <a class="action" href="@{routes.Joiner.enterPaidDetails(supporter)}?countryGroup=@US.id">Become a Supporter</a>
                </div>
            }
        </div>
    }

    @* ===== Join The Guardian and support The Guardian ===== *@
    <div class="page-slice page-slice--padded l-constrained">
        @fragments.promos.promoQuote(
            Asset.at("images/common/katharine-viner-cutout.png"),
            "Katharine Viner, editor-in-chief of the Guardian"
        ) {
            <blockquote class="blockquote blockquote--feature">
                With Guardian Members we have a profound opportunity to
                defend the Guardian's independent journalism and collaborate
                together on a better, more informed future.
                <cite class="blockquote__citation">Katharine Viner, editor-in-chief of the Guardian</cite>
            </blockquote>
        }
    </div>

    @* ===== Join Today ===== *@
    <div class="page-slice tone-tint" id="whats-included">
        <div class="l-constrained">
            <h2 class="page-slice__headline">What's included</h2>
            <div class="page-slice__content">
                @fragments.tier.packageFeature(supporter, US, catalog, isReversed=true)
            </div>
        </div>
    </div>

}
