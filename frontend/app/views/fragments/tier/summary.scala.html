@import views.support.Dates._
@import org.joda.time.DateTime
@import model.SubscriptionOps._

@import com.gu.salesforce.Tier
@(subscription: model.PaidSubscription, tier: Tier)

<table class="table table--striped" role="grid">
    <tr role="row">
        <th role="rowheader">
            Tier
        </th>
        <td id="qa-tier-summary-tier">
            @tier.name
        </td>
    </tr>

    <tr role="row">
        <th role="rowheader">
            End date
        </th>
        <td id="qa-tier-summary-end">
            @if(!subscription.isInTrialPeriod) {
                @subscription.chargedThroughDate.map(_.pretty)
            } else {
                @DateTime.now.pretty
            }
        </td>
    </tr>

    <tr role="row">
        <th role="rowheader">
            @subscription.plan.billingPeriod.adjective.capitalize payment
        </th>
        <td id="qa-tier-summary-recurring">
            @subscription.recurringPrice.pretty
        </td>
    </tr>
    @*TODO What is expected here?*@
    @*<tr role="row">*@
    @*<th role="rowheader">*@
    @*Last payment*@
    @*</th>*@
    @*<td id="qa-tier-summary-start">*@
    @*subscription.startDate.pretty*@
    @*</td>*@
    @*</tr>*@
</table>
